{
  "skill": "contextd:cross-session-memory",
  "type": "discipline",
  "scenarios": [
    {
      "query": "Implement a caching layer for the API",
      "expected_behavior": [
        "Calls memory_search before starting implementation",
        "Searches for caching patterns, strategies, or past implementations",
        "Reviews returned memories if any exist",
        "Records learning with memory_record after completion"
      ]
    },
    {
      "query": "Debug this race condition in the goroutine",
      "expected_behavior": [
        "Calls memory_search for race condition, goroutine, debugging patterns",
        "Applies any relevant memories found",
        "Provides memory_feedback if a memory was helpful",
        "Records the solution with memory_record including outcome"
      ]
    },
    {
      "query": "We decided to use the Registry pattern for DI. Can you implement it?",
      "expected_behavior": [
        "Searches for Registry pattern memories",
        "If decision involved significant discussion, records ADR-style memory",
        "Includes WHAT was decided, WHY, and REJECTED alternatives"
      ]
    }
  ]
}
